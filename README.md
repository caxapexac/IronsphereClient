# Ironsphere #

![пикча](../pics/Ironsphere.JPG)

## Суть ##
- **Кроссплатформенная браузерная пошаговая MMO на гексагональном поле с открытым миром, развитием городов, грабежом корованов в сеттинге ака Warhammer**
- Это всё, что нужно знать про данный проект
- Также см. Приложение 1, диздок

## Что есть на данный момент ##
- [Тред на gamedev.ru](https://gamedev.ru/projects/forum/?id=235137) - игру сейчас вроде как делают 3 человека, посмотрим, что из этого выйдет
- UPD: Двое отвалились, Евгений SVEN остался один ;(
- Ближайший референс - игра [TimeZero](https://www.timezero.ru/index.en.html), которую убили донатом mail.ru

## Приложение 1. Ранний диздок ##

### 1. Концепция

1.1. Введение
Ироносфера – пошаговая двухмерная ММОРПГ. 
Сеттинг – киберпанк, воины роботов.. Игрок управляет механическими машинами – военными роботами. Игра не претендует на реалистичность.
Положительными особенностями игры будут являться глубоко продуманные и тесно связанные между собой экономическая, социальная и боевые системы. Свобода действий, безграничные возможности и строительство мира игроками будут ключевыми целями для достижения в разработке геймплея. Создавая такой свободный мир, необходимо понимать, что основными задачами  будет являться недопущение хаоса, террора новичков со стороны сильных игроков, полной монополии и «дыр» в экономической системе. 
Почему роботы? Потому что мне эта тематика ближе по духу чем фентези. Киберпанк – это такой же хороший сеттинг, ограждающий от условностей реальности и дающий полную свободу в формировании геймплея. На реалистичность игра не претендует.

1.2. Предпосылки создания
Рынок игр жанра ММО явно испытывает острую нехватку  продуктов со свободным ПВП. Спрос действительно очень велик, и игроки с жадностью бросаются почти на любой  адекватно реализованный продукт с массивным мультиплеером, где есть возможность свободно выяснять отношения между собой, полноценно воевать кланами (Rust, DayZ)
Среди пошаговых ММО игр подобных игр очень мало и они не пользуются особой популярностью из-за сложности реализации.  
Много раз была затронута тема о создании ММО с механикой Fallouta, или нечто подобного. Ironsphere – это новое решение в механике пошаговых ММОРПГ. В нём удалось совместить прелести пошаговых тактических игры, массивного мультиплеера, открытой экономики и открытого ПВП. 

1.3. Краткое описание
Игровой мир – это массив локаций 100 на 100. Есть 3 вида: горы, пустыня, твердь(земля). Игрок развивает своего персонажа –пилота и совершенствует свою боевую машину – робота. Для этого нужно добывать ресурсы и зарабатывать деньги - способов заработка много. Игрок может охотиться на монстров, добывать руду в шахтах, заниматься производством предметов, торговать, грабить других игроков и многое другое.
Для игрока представлено несколько путей развития, которые будут заключаться в том, как он распорядится очками умений. Очки умений даются с каждым взятым уровнем (их 10).
Существуют боевые и профессиональные очки умений. По этому, от основной «профессии» игрока не будут зависеть его боевые характеристики.
Что делать новичку? Он появляется в спокойной местности, где сможет полностью освоиться, и добывать небольшое количество ресурсов не боясь, что его растопчут сильные игроки. Далее, когда игрок поймёт азы выживания в мире, он выберет свой путь развития. Самыми распространёнными способами добычи для молодых игроков будут копание в шахте и охота на монстров. 

1.4 Особенности игры
- Глобальная система тиков. Это необычное решение, которое даёт возможность в пошаговой РПГ реализовать возможность открытого ПВП – в котором так нуждаются игроки, но рынок ММО игр не может им предоставить это в полной мере и по сей день. Каждый игрок подчинён системе тиков, и каждое его действие, приводящее к глобальному изменению мира (постройка), или нападение будет выполнено в определённый тик. (раз в 20 сек). Однако есть система приоритетов, которая просчитывает действия одних игроков быстрее, других медленнее.
- Одновременные ходы. Согласно системе тиков ходы в боях будут осуществляться одновременно. Игроки, за отведённые им 15 секунд отдают команды, за остальные 5 секунд проигрывается анимация событий согласно отданным командам всех игроков в бою.
- Система проведения боёв настроена так, что в бою одновременно могут находиться неограниченное количество игроков. Игроки могут входить и выходить из боя в любое время.
- Выпадение ресурсов. Из игроков могут выпадать предметы сырья и ящики производимые на заводах. Ограбления будут обычным явлением. Однако будут способы частично обезопасить себя.  

### 2. Функциональная спецификация
2.1. Персонаж
Набирая определённое количество очков опыта игрок получает уровень. Игрок не может терять опыт. 
За каждый уровень игрок выбирает 1 боевой и 1 профессиональный навык.

2.1.2. Навыки
- Боевые. (Полезны в бою)
  - Уровень 1.
    - Accuracy(1). Увеличивает кучность лазерного и огнестрельного оружия на 3 единицы.
    - Lucky shot. +3% шанс нанести критический урон любым оружием.
    - Heavy fire. Огнестрельное оружие наносит на 2 единицы урона больше.
    - Destructive ray. Лазерное оружие игнорирует 10 единиц лазерной защиты
    - Active armor. Добавляет +20 к лазерной и +20 к ударной броне.
  - Уровень 2.
    - Kevlar surface. Уменьшает урон от взрывного воздействия на 20%. Требования: Active armor.
    - Reflection. Лазерная защита увеличена на 5 единиц.
    - Dodge. Увеличивает шанс увернуться от попадания на 5%.
    - Radio-interference. Уменьшает кучность ракет противника выпущенных по меху на 2.
  - Уровень 3.
    - Guard. Увеличивает броню и лазерную броню окружающих союзных мехов на 7%. Радиус 2 клетки. Не складывается.
    - Pointer. Увеличивает кучность стрельбы окружающих союзников на 2 единицы.  
    - Homing death. Увеличивает кучность стрельбы из ракетного оружия на 2 единицы.
  - Уровень 5.
    - Missile loading(1). Уменьшает требуемое ОД перезарядки ракетного оружия на 1.
    - Accuracy(2). Увеличивает кучность лазерного и огнестрельного оружия на 5 единиц. Требования: Accuracy(1)
  - Уровень 8.
    - Missile loading(2). Уменьшает требуемое ОД перезарядки ракетного оружия на 2. Требования: Missile loading(1)

- Профессиональные.  (Полезны вне боя или в бою против монстров)
  - Уровень 1. 
    - Traveler(1). Уменьшает ОП, затрачиваемое на перемещение на 2 единицы.
    - Self-defense. Уменьшает получаемый урон от монстров на 10%.
  - Уровень 2.
    - Silent drilling. Вероятность быть атакованным монстрами при добыче в шахте уменьшена на 15%.
    - Lucky hunter. 10% бонус нанести критический урон по монстрам из огнестрельного оружия.

2.1.3. Инвентарь
Инвентарь – это место, куда игрок помещает любые предметы, которые носит с собой. Предметы можно разделить на «выпадающие» и «невыпадающие». Инвентарь ограничен общей массой предметов, которая зависит от типа корпуса, характеристик персонажа и модулей.
Выпадающие предметы, при смерти персонажа, изымаются из инвентаря. При окончании боя команда-победитель забирает эти предметы (механика подбора предметов в описании боя).
Невыпадающие предметы невозможно потерять в бою или как-либо еще.
Передача предметов или перемещение их вне боя выполняется не зависимо от тиков. Для передачи предмета одним игроком другому необходимо использовать функцию «обмен».
Если игрок подтверждает, что хочет обменяться, то появляется меню обмена, где игроки выкладывают предметы для обмена с обеих сторон, игрок может согласиться с условиями обмена или отменить его. 

2.1.4. Экипировка меха
Количество оружия и оборудования меха ограничено максимальной общей массой к количеством слотов каждого типа у корпуса.
Типы слотов:
- Центральный.
- Бортовой. Боевой
- Обшивка.
- Правая рука. Боевой
- Левая рука. Боевой
- Ноги.

Один предмет, устанавливаемый на меха, может занимать несколько слотов одного типа.
Например: 
Легкий лазер занимает 2 слота правой или левой руки.
Пулемёт занимает 1 бортовой слот или 1 слот правой или левой руки.
И т.д.
Устанавливать или снимать предметы с меха можно только в гараже.
Корпус также обладает характеристиками: вес, макс вес, запас прочности, броня, лазерная защита, размер(коллайдер), инициатива(приоритет хода).

2.1.5 Встраиваемые Модули
У каждого персонажа существуют ячейки (слоты) в которые можно устанавливать модули. Существуют 4 типа модулей и ячеек, соответствующих им: синие,  зелёные и красные.
Каждый модуль даёт небольшой бонус тому или иному параметру.
Красные отвечают за боевые параметры.
Синие дают бонусы к максимальному весу инвентаря, скорости перемещения вне боя и т.п.
Зеленые дают преимущества против монстров, бонусы добычи.
С каждым уровнем количество ячеек увеличивается на 1.

2.1.6. Очки перемещения.
Чтобы перейти в соседнюю локацию (в т.ч. по диагонали), игрок затрачивает ОП. Каждый тик игрок восстанавливает ОП. 
На количество ОП, которое затрачивается на перемещение, влияет вес робота, некоторые умения. 
Количество ОП восстанавливаемое за тик зависит от двигателя. Его можно увеличить умениями и модулями.
Так же максимальное количество ОП может быть увеличено.

2.1.7. «Смерть» и выпадение предметов.
Смерь = поломка. Поломка случается, если очки прочности в бою равны нулю или при завале в шахте. Игрок, поломанный в бою на локации или в шахте(смотри добычу в шахте), выходит из боя и оказывается на данной локации локации .
При завале в шахте игрок оказывается поломанным на поверхности (локация в которой находится эта шахта). 
При поломке все «выпадающие» предметы пропадают из инвентаря и оказываются в «трофеях» данного боя (смотри боевую систему). А если игрока завалило в шахте, то предметы остаются на локации в шахте и могут быть подобраны однажды, если данная локация будет раскопана.
Персонаж при поломке утрачивает возможность выполнять какие либо действия, кроме перемещения, или, имея ремонтный комплект, игрок может починить себя самостоятельно

2.2. Игровая вселенная
2.2.1. Игровой тик.
Действия игроков происходят в реальном времени. Однако следующие важные действия могут происходить только раз в 20 секунд. Это называется общий игровой тик. Тикам подчинены любые виды строительства, перемещения игроков по миру и нападения одних игроков на других. Так же в соответствии с тиками выполняется производство на фабриках, автоматически пополняются очки перемещения (ОП) в боях и в глобальном мире. Ходы в боях так же подчинены тикам – раз в 20 секунд. 

2.2.2 Параметры локаций
Игровой мир состоит из 2500 локаций (50х50). Локации делятся на 3 типа: твердь, песок, горы.
Параметры локаций:
- Номер по горизонтали и вертикали. Пример: 1/1, 24/16
- Радиация: 0-10. Определённый уровень радиации делает невозможным строительство тех или иных построек или нахождение/переход в данную локацию персонажей не имеющих определенных параметров, защищающих от радиации.
- Уровень дороги: 0-2. Чем выше уровень дороги, тем меньше требуется ОП на перемещение в данную локацию. 
- Уровень ресурсов: Железо: 1-10, Цветной металл: 1-10, уран: 1-10, нефть: 
- Тип местности: Пустыня, твердь, горы.
  - На тверди можно строить любые здания.
  - В пустыне можно строить только дороги и особые здания. Скорость перемещения в пустыне снижена на 20%.
На локации может находиться неограниченное количество игроков. 
Начальная локация.
Игрок появляется в локации 3/25. Это уникальная локация. На ней невозможно напасть на кого либо.  На локации находятся постройки: Общежитие, аукцион. 

2.3. Боевая система
2.3.1. Бои и формирование боя
Бои – важнейшиая часть геймплея Ироносферы. Главное правило – неограниченное количество персонажей в бою, свободная система нападений с грабежами. 
При расчете тика на сервере, если персонаж удачно напал, то эти 2 персонажа попадают в бой. При этом, если есть те, кто удачно напал на того же персонажа или атакующего, то они тоже попадают в бой.
Синим цветом, обозначен игрок, на которого напали. Вокруг него формируется поле боя в 6 клетках. Красными точками обозначены места, в которых случайным образом появится нападающий игрок.
Итак, игроков уже двое, соответственно поле боя расширилось и теперь в одной из красных точек появится следующий нападающий и так далее, пока все не разместятся на поле боя. С каждым новым игроком поле может расширяться. Если на поле боя уже находится хотя бы 4 человека, расстояние между игроком и «красной точкой» сокращается с 5 до 4.
Теперь игроки будут появляться ближе. И когда их станет 10, то расстояние сократится еще до 3х клеток. Когда число игроков в бою достигнет 25, то расстояние снизится до 2х клеток. Если случилось так, что все места респа заняты (что теоретически возможно), то вход в бой отменяется. Однако это не приведёт к дисбалансу в игре.
Однако на поле боя могут формироваться команды игроков. Если кто-нибудь из игроков хочет войти в бой за сторону одного из игроков (или уже сформированной команды), то алгоритм его появления будет другим:
![пикча](../pics/Ironsphere2.JPG)
Зеленым отмечены союзники. Игрок может появиться близко к союзнику, но не вплотную. Остальные правила действуют стандартно. Для того чтобы зайти за игрока, необходимо быть с ним в группе*. Если вы не состоите в группе игрока, то можно в неё вступить с разрешением лидера, не зависимо от тиков игры. Лидер по умолчанию тот, кто первее из игроков команды зашел в бой, или согласно механике групп, где лидер уже назначен игроками при формировании группы вне боя или в бою.
Перед входом в бой игрок может задать приоритет, с какой стороны он появится при расстановке игроков в бою, выбрав одно из 8 направлений. С, Ю, З, В, С-В, С-З, Ю-В, Ю-З.
Игрок, уровень запаса прочности которого равен 0, покидает поле боя и оказывается на этой локации со статусом «сломан*»(см. смерть). 
Игрок, который оказывается на расстоянии 8 или более клеток от ближайшего противника (не союзника), покидает поле боя и оказывается на этой локации.

2.3.2. Бой, очки действия, перемещения
Не зависимо от уровня, у всех игроков есть по 10 очков действия(ОД) на каждый ход в бою (тик). Игроки отдают распоряжения своим мехам, затрачивая ОД на перемещения по полю боя, атаку противников и прочие действия. 
В игре нет боевых машин, способных при всех лучших условиях походить более чем на 6 клеток. Ход в бою условно так же разделён на 10 тиков, согласно ОД. Если при расчете хода, несколько игроков в один тик боя ходят в 1 клетку, то приоритет отдается самому «быстрому», как и вне боя. 

2.3.3. Типы стрельбы
![пикча](../pics/Ironsphere3.JPG)
3 типа наведения у оружия:
- Прямое по цели. Атака будет произведена по конкретной цели(опционально по местности), но может быть заблокирована препятствием.
- Баллистическое по цели. По конкретной цели(опционально по местности) не зависимо от преград.
- Баллистическое по местности. Может быть применено только по местности.

2 типа урона.
- Ударный. 
- Термо-урон. 

Для каждого типа урона есть соответствующий тип защиты.
3 типа оружия
- Лазерное. Самое точное оружие. Урон только термо. Расходует энергию. Урон может быть уменьшен системой ГЗЛ.
- Огнестрельное. Всегда есть ударный урон, иногда термо. Расходует боезапас.
- Ракетное. Разный урон. Ракеты могут быть сбиты системами ПРО.

2.3.4. Стрельба.
Каждый выстрел требует определенное количество ОД. Пуля не всегда попадает по цели или местности, на которую была направлена. Существует определённое значение разлёта для выстрела. Он зависит в первую очередь от используемого оружия, а так же от некоторых характеристик меха.
Для прямого оружия, разлёт – это количество градусов, на которое может отклониться пуля при выстреле. 
Для баллистического оружия, разлёт – это радиус окружности, в пределах которой упадёт снаряд. Точка падения снаряда свободна, не привязана к центру гексов, однако точка прицеливания может быть только гексом.
Физический размер цели имеет значение. Хит бокс робота представляет собой окружность с центром в центре гекса.  Размер зависит от параметра конкретного корпуса меха*(см .наполнение). При измерении расстояния, длина между параллельными ребрами гекса является единицей измерения. 
Наносимый урон при попадании зависит от урона оружия, типа урона, его дальности, расстояния, брони, расстояния до взрыва (если взрывное), наличия кумулятивного эффекта(только при прямом попадании).

2.4. Игровое наполнение
2.4.1. Предметы
IS предметы.xlsx
Предмет – это объект в игре, который можно поместить в инвентарь. Предмет имеет вес и уровень состояния.
Классы предметов:
Выпадающие.
- Ресурс. Руды, нефть, уголь.
- Материал. Используется при производстве.
- Ящик. Получается при производстве. Распаковывается в гараже.
- Чертёж. Ценный предмет, получаемый в лабораториях, используемый для производства.

Не выпадающие:
- Снаряжение меха. Всё что можно установить на меха в гараже, используются в бою.
- Расходуемые предметы. Помещаются в инвентарь, расходуются при использовании приборов или стрельбе.
- Приборы. Помещаются в инвентарь, используются вне боя.
- Модули. Устанавливаются в гараже на персонажа. Не имеют вес.

2.4.2. Постройки.
Постройка – это неподвижный объект, расположенный на локации, выполняющий определённые функции.
Постройка имеет очки состояния, у неё есть владелец (игрок). 

Постройки могут иметь разный уровень. Для того чтобы на локации появилась постройка, принадлежащая игроку, он должен выполнить, находясь на локации, команду «строить». 
Доступность разных построек определяется уровнем игрока, его оснащенностью. Для построек каждого вида необходимо определённое количество ресурсов и специальный «чертёж». 
Когда на локации появится здание принадлежащее игроку, тот найдёт его в интерфейсе, будучи на этой локации. Поломанный игрок не может управлять постройками. 
Каждая постройка имеет запас прочности. Запас прочности очень медленно истощается, поэтому здание требует периодического ремонта.
- Жилые.
Неотъемлемой постройкой для каждого игрока является гараж. Гараж = дом. То место где он в безопасности. В гараже можно бесплатно чиниться. В гараже хранятся предметы и боевые роботы. Общий вес предметов, который можно поместить в гараж, ограничен и может увеличиваться с уровнем гаража. Только в гараже можно менять конфигурацию своего робота. Гараж может быть построен только на локации с нулевой радиацией. 
Альтернативой гаражу может служить убежище. В отличие от гаража, убежище не видно, но оно имеет меньшую емкость и в нем не доступна бесплатная починка. Убежище может быть построено на локации, уровень радиации которой 0-2.
На административной локации будет находиться общежитие. Это место, которым каждый игрок может пользоваться как гаражом. В нём есть небольшой склад.
- Производственные
Практически любой предмет можно изготовить на производственных постройках – фабриках. От уровня фабрики зависит, какие предметы можно изготавливать, а так же скорость производства. В нём имеется 4 ячейки: основная, производственная, чертёжная и энергетическая.
Для производства предмета необходим чертёж и определённое количество разных ресурсов. Ресурсы помещаются производственную ячейку, чертёж в чертёжную. Для запуска производства нужно, чтобы  в энергетической ячейке было достаточно энергомодулей. Мелкие предметы, например патроны, изготавливаются по несколько за 1 раз. Когда производство завершено, на основном складе фабрики появится ящик с предметом(и) . Такой ящик можно поместить только в транспортный инвентарь и его невозможно продать через магазин* или рынок*. Распаковать ящик можно, только находясь в собственном гараже или общежитии. 
Чертежи для производства товаров и постройки зданий изготавливаются в лаборатории. Изготовления чертежей требует больших временных затрат, наличие специальных навыков у игрока, энергомодули и ресурсы.
Фабрики и лаборатории выдерживают радиацию до 4 уровня.
- Торговые.
Магазин – это постройка имеющая склад  и функцию, благодаря которой, можно помещать предметы в специальные ячейки, выставляя цену. Любой игрок, находящийся на локации, может купить такой предмет.
Так же через магазин можно скупать предметы и ресурсы у игроков.
Рынок – это административная постройка, позволяющая всем игрокам продавать свои предметы как в магазине, однако за пользование ячейками на аукционе взымается небольшая плата. По истечению определённого срока, если предмет не продан, он перемещается на склад общежития, но если он переполнен, предмет пропадает.
Торговые постройки могут быть построены только с нулевой радиацией.
- Перерабатывающие.
Любой «сырой» ресурс бесполезен, пока его не переработают. Для этого игроками создаются специальные постройки – перерабатывающие заводы. От уровня такой постройки зависит, сколько ресурсов она сможет переработать за 1 тик. На переработку затрачиваются энергомодули, аналогично с производством. На выходе игрок получает готовый для применения ресурс.
- Добывающие.
Шахты – основной, но не единственный источник ресурсов игрового мира. В шахтах добываются железо, медь, уран. 
Нефтяные вышки – пассивный источник нефти. 
- Военные. 
Система защиты. Постройка, требующая для поддержки активной работы много ресурсов. Если на локации с такой постройкой произошло нападение, то может сработать система защиты и на стороне атакуемого будут воевать специальные турели. Их сила зависит от уровня системы защиты.
- Прочие.
Атомная лектростанция. Угольная электростация. Постройка, в которой производятся энергомодули. С помощью электростанций можно пассивно обеспечивать здания, находящиеся на данной локации, энергомодулями. Такое обеспечение более выгодно. Игрок, владелец может выставлять цену за поставку энергомодулей в здание индивидуально к каждому игроку.

2.4.3. Монстры.
В шахтах и на поверхности будут встречаться монстры. Существует несколько разновидностей(рабочие названия):
- Червь. Часто встречается. Обитает в шахтах и в песках. Небольшая скорость, живучий, ближний бой, небольшой урон.
- Скарабей. Встречается на глубине. Средняя скорость. Ближний бой, большой урон.
- Раптор. Обитает везде, но в небольших количествах. Быстрый юнит ближнего боя.
- Титан. Только на поверхности. Встречается редко на локация с радиацией. Самый живучий. Имеет высокий урон.
- Богомол. Только на поверхности. Самый быстрый юнит. Повышенный урон.
- Орион. Везде понемногу. Дальний бой. Имеет повышенный урон, но мало живуч.

2.4.4. Модули
Синие:
- Carry. Бонус к максимальному весу инвентаря 5%.
- Logistic. Уменьшает затраты ОП на переход в другую локацию на 5%.
- King of the road. Уменьшает затраты ОП на переход в локацию с дорогой на 8%.
- Scout. Уменьшает затраты ОП на переход в локацию без дороги на 8%.
- Courier. Уменьшает затраты ОП на переход в другую локацию на 3.5%, кроме того, даёт Бонус к максимальному весу инвентаря 3.5%.

Зелёные:
- Disinsector. Урон по монстрам, нанесённый лазерным оружием  игнорирует 10 единиц лазерной защиты.
- Wiper. Урон от непрямого попадания (разрывным оружием) по монстрам увеличен на 20%.
- Infiltrator. Цветной металл добывается на 2% быстрее.
- Heavy miner. Железо добывается на 2% быстрее.
- Uranium miner. Уран добывается на 2% быстрее.
- Auger. Бурение производится на 4% эффективнее.

Красные:
- Marksman. Шанс критического попадания увеличен на 3%.
- Resistance. Добавляет 3 очка к броне и лазерной защите.
- Accuracy. +1 к кучности любого оружия.
- Fast moving. +1 к восстановлению ОП в бою.
- Repairing. +1 к восстановлению запаса прочности в бою.
- Aggressor. +2 к пробиванию брони.
- Scorcher. +2 к пробиванию лазерной защиты.
- Impenetrability. +5 к максимальному запасу прочности.

Арахноид. В шахтах на глубоких уровнях. Очень редко встречается на поверхности. Ближний бой. Самый большой урон.

2.5.3 Добыча ресурсов
В игре есть несколько основных сырьевых ресурсов: урановая руда, нефть, железная руда, медная руда, углерод.
Из сырья добываются другие ресурсы, уже пригодные для производства или использования: уран, горючее, полимеры, железо, медь, энергомодули.
Ресурсы добываются разными путями. Некоторые пассивно: нефть. Для добычи нефти достаточно построить нефтяную вышку и снабжать её энергомодулями. Количество нефти, добываемой за 1 тик, определяется уровнем* нефтяной вышки и количеством нефти на локации. Количество нефти и любых других ресурсов на локации можно определить специальным модулем*. 
Убивая монстров в шахтах и на поверхности, можно собрать с них ресурс углерод.
Добыча в шахте. В мире будут существовать шахты. На локации не может быть больше одной шахты. В интерфейсе шахты будет команда «спуститься». Игрок попадает на сеть подземных «локаций», по которым можно перемещаться подобно поверхности. Так же в шахте существуют уровни. От -1, до -9. На одном уровне находятся 17х17 локаций. Получается 2601 подземная локация. 
Изначально, почти все подземные локации будут заполнены породой. Породу можно прокопать, но на это будет происходить медленно. Для этого нужно отдать одну из команд, стоя на пустой локации «копать на юг», «копать на север», «копать на запад», «копать на восток», «копать вниз», «копать вверх». Если с соответствующей стороны есть порода. Команда «копать» рассчитывается согласно тикам, требует наличия специального оборудования и затраты энергии. При удачной «копке» игрок получит некоторое случайное количество железной, медной или урановой руды. Среднее количество выпадения руд зависит от концентрации каждого из этих элементов на локациях в шахте. 
Каждая локация в шахте имеет свой «запас прочности». Когда его значение становится 0, то локация становится свободной для перемещения. При каждом «копании» локации запас прочности истощается на определённое количество, зависящее от оборудования копающего. Сумма очков прочности локации состоит из количества каждого ресурса на ней, плюс «бесполезной породы». То есть из каждой отдельной локации можно выкопать определённое количество ресурсов. Процент этих ресурсов, по отношению к общему количеству очков прочности, разный. Процент выпадения ресурсов при копке и общее количество выкопанных «очков прочности» зависит от качества специального оборудования.
Иногда пустые локации в шахтах будут обваливаться. Пустая локация становится  заполненной на небольшое количество очков. Так же и уже заполненные локации будут понемногу заполняться со временем. Чем больше в шахте вскопанных локаций, тем чаще будут происходить пополнения и обвалы. Шанс, что пустая локация обвалится, зависит от того, сколько пустых локаций вокруг неё. Так же локацию можно оборудовать укреплением, однако шанс обвала всё равно останется, если вокруг пустой локации не будет хотя бы 4 заполненные, при обвале укрепление на локации обнуляется.  За 5 минут до обвала, локация помечается ярко красным контуром, по этому хоть немного внимательный игрок едва ли попадет под обвал. Если , всё же, в момент обвала на локации находился игрок (в том числе в бою), то он становится «поломанным»(см. смерть) и телепортируется на поверхность. Он не может перемещаться, быть починенным или делать что либо, в течение 15 минут. 
Выполняя команду «копать» или перемещаясь по локациям шахты, существует вероятность нападения монстров. Эта вероятность зависит от следующих параметров: уровень персонажа, концентрация уровень монстров на локации, сила монстров. Чем ниже уровень в шахте, тем сильнее монстры. 
Очки прочности породы варьируются от 10000 до 20000

### 3. Интерфейс
3.2. Набросок интерфейса.
Глобальный режим.
![пикча](../pics/Ironsphere4.JPG)
В нижнем левом углу декоративно показано содержание локации. Тип местности, плотность построек, наличие дороги, наличие радиации (рябь) будут влиять на картинку.
Справа имеется список игроков и построек на локации. Там же, нажав на имя игрока или постройку, открывается контекстное меню с функциями.

4. Монетизация и игровая валюта
Игровая валюта: Cridits
Реальная валюта: Premial credits
Общие положения.
Платящий игрок не может иметь больше игровых возможностей, нежели не платящий.
Игрок должен иметь возможность неограниченно вкладывать деньги в игру.
